"use strict";function viewModel(){function o(){var o=this;null!==o.getAnimation()?o.setAnimation(null):(o.setAnimation(google.maps.Animation.BOUNCE),e(o))}function e(o){setTimeout(function(){o.setAnimation(null)},1450)}function t(){l.close()}var i=this,n=null,s=locations,a=[],r={lat:40.052191,lng:-82.984457};n=new google.maps.Map(document.getElementById("map"),{zoom:12,center:r});for(var l=new google.maps.InfoWindow({pixelOffset:new google.maps.Size(-1,-31)}),c=0;c<s.length;c++){var u=new google.maps.Marker({position:new google.maps.LatLng(s[c][0],s[c][1]),map:n,title:s[c][2],animation:google.maps.Animation.DROP,icon:"images/mapicon.png"}),m=new google.maps.LatLng(40.159153,-83.083815),g=new google.maps.LatLng(39.964754,-82.810993),d=new google.maps.LatLngBounds;d.extend(m),d.extend(g),n.fitBounds(d),a.push(u);var p=function(o,e){function t(){return Math.floor(1e12*Math.random()).toString()}var i="https://api.yelp.com/v2/business/"+o,s={oauth_consumer_key:"7H2uLGkdiD0oLvt8kJeJFA",oauth_token:"n9S5JNeFqoQKTV3iZ591eDd4hiiq08cQ",oauth_nonce:t(),oauth_timestamp:Date.now(),oauth_signature_method:"HMAC-SHA1",oauth_version:"1.0",callback:"cb"},a=oauthSignature.generate("GET",i,s,"Xrg10bFRdYiviMOPEorrk8koSN8","8d65lHm_1wTkzn9p7jJ4RzQ7J-k");s.oauth_signature=a;var r={url:i,data:s,cache:!0,dataType:"jsonp",success:function(e){console.log(e);var t='<div id="infowindowframe" style=""><h1><a href="http://www.yelp.com/biz/'+o+'">'+e.name+'</a></h1><div><img src="'+e.rating_img_url+'"></div><h3>'+e.location.address+'</h3><div id="placeimage"><img src="'+e.image_url+'"></div><div id="reviewtext">'+e.snippet_text+"</div></div>";l.setContent(t),l.open(n)},error:function(o){var t="No Yelp Information Available :(";o&&(l.setContent("<h1>"+e+"</h1><h4>"+t+"<h4>"),l.open(n))}};$.ajax(r)},f=s[c][2],h=s[c][3];google.maps.event.addListener(u,"click",function(o,e,t,i){return function(){e.open(n,this),e.close(n),p(t,i),n.panTo(o.position)}}(u,l,h,f)),u.addListener("click",o),this.clickList=function(o){google.maps.event.trigger(o,"click")};var v=function(){i.markersArray=ko.observableArray(a),i.enteredText=ko.observable(""),i.listSearch=ko.computed(function(){return ko.utils.arrayFilter(i.markersArray(),function(o){return o.title.toLowerCase().indexOf(i.enteredText().toLowerCase())>=0})}),i.markerFilter=ko.computed(function(){for(var o=0;o<a.length;o++)a[o].title.toLowerCase().indexOf(i.enteredText().toLowerCase())>=0?(a[o].setVisible(!0),n.panTo(r),$(window).width()<725?n.setZoom(10):n.setZoom(12)):(a[o].setVisible(!1),t())})}}ko.applyBindings(new v)}var locations=[[39.998788,-83.031421,"CrossFit Grandview","crossfit-grandview-columbus"],[39.986675,-82.997863,"Ohio Strength - Home of CrossFit Italian Village","ohio-strength-home-of-crossfit-italian-village-columbus"],[40.032481,-82.999197,"CrossFit Clintonville","crossfit-clintonville-columbus"],[40.091431,-83.088581,"Friendship Crossfit","friendship-crossfit-dublin"],[39.964125,-82.991593,"12th Round CrossFit","12th-round-crossfit-columbus"],[40.159153,-83.083815,"ChalkDust CrossFit","chalkdust-crossfit-powell"],[40.001887,-82.813766,"Crossfit Future","crossfit-future-blacklick"],[39.984347,-83.032814,"CrossFit Scioto","crossfit-scioto-columbus"],[40.141986,-82.963956,"CrossFit Polaris","crossfit-polaris-westerville"],[40.160504,-83.009983,"Crossfit 1803","crossfit-1803-lewis-center"]];